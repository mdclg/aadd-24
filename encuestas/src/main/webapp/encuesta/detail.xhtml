<ui:composition template="/WEB-INF/template/template.xhtml"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui">

    <ui:define name="title">
        Detalle encuesta
    </ui:define>

    <ui:define name="metadata">

        <f:metadata>
            <f:viewParam name="id" value="#{encuestaDetailWeb.idEncuesta}" />
            <f:viewAction action="#{encuestaDetailWeb.load()}" />
        </f:metadata>
    </ui:define>

    <ui:define name="content">
        <div class="row">
            <div class="col-12">
                <div class="content">
                    <h:form id="encuestas">

                        <p:messages id="messages" showDetail="true" closable="true">
                            <p:autoUpdate />
                        </p:messages>

                        <p:panel header="#{encuestaDetailWeb.encuesta.titulo}">
                            <p class="m-0">#{encuestaDetailWeb.encuesta.instrucciones}</p>
                            <p>Apertura: #{encuestaDetailWeb.encuesta.apertura}</p>
                            <p>Cierre: #{encuestaDetailWeb.encuesta.cierre}</p>
                        </p:panel>

                        
                        Usuario: <p:inputText value="#{encuestaDetailWeb.usuario}" />
                        Votar: 
                        <p:selectOneRadio id="opcion" value="#{encuestaDetailWeb.opcion}"
                            layout="pageDirection">
                            <f:selectItems value="#{encuestaDetailWeb.encuesta.opciones}"
                                var="o" itemLabel="#{o}" itemValue="#{o}" />
                        </p:selectOneRadio>

                        <p:toolbarGroup>
                            <p:commandButton value="Votar"
                                actionListener="#{encuestaDetailWeb.votar()}" update="messages"></p:commandButton>
                        </p:toolbarGroup>
                    </h:form>
                </div>
            </div>
        </div>
    </ui:define>
</ui:composition>